import{o as e,s as t,t as a,_ as l,a as s,O as n,v as i,y as p,x as o,T as r,w as d,R as c}from"./preset_utils-D0KPBXib.chunk.js";import{V as g,W as I,Y as u,G as m,aV as S,aW as h,$ as f,aX as T,aY as v,b as y,c as R,S as O,a0 as P,a2 as k,a3 as w,ai as A,a7 as C,a as U,F as G,ab as M,X as E,ac as L,aj as b,aZ as H}from"./localization-efQrTVzH.chunk.js";import{M as B,a as D,D as q,b as x}from"./inputs-BeEcXKGI.chunk.js";const V={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:31687}}},doAtValue:{const:{val:"-15s"}}},{action:{castSpell:{spellId:{spellId:55342}}},doAtValue:{const:{val:"-6.5s"}}},{action:{castSpell:{spellId:{spellId:12051}}},doAtValue:{const:{val:"-5s"}}},{action:{castSpell:{spellId:{spellId:116011}}},doAtValue:{const:{val:"-3.5s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-2s"}}},{action:{castSpell:{spellId:{spellId:116}}},doAtValue:{const:{val:"-2s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:116257}}},rhs:{spellCastTime:{spellId:{spellId:12051}}}}},castSpell:{spellId:{spellId:12051}}}},{action:{condition:{cmp:{op:"OpLe",lhs:{currentMana:{}},rhs:{const:{val:"45000"}}}},castSpell:{spellId:{spellId:12051}}}},{action:{condition:{and:{vals:[{spellIsKnown:{spellId:{spellId:116011}}},{or:{vals:[{auraIsInactive:{auraId:{spellId:116011},includeReactionTime:!0}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:116011}}},rhs:{spellCastTime:{spellId:{spellId:116011}}}}}]}}]}},castSpell:{spellId:{spellId:116011}}}},{action:{condition:{and:{vals:[{spellIsReady:{spellId:{spellId:108978}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:112965},includeReactionTime:!0}},rhs:{const:{val:"2"}}}},{auraIsActive:{auraId:{spellId:44549},includeReactionTime:!0}}]}},castSpell:{spellId:{itemId:76093}}}},{action:{condition:{or:{vals:[{spellIsReady:{spellId:{spellId:108978}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:108978}}},rhs:{const:{val:"75s"}}}}]}},castSpell:{spellId:{spellId:12472}}}},{action:{condition:{or:{vals:[{spellIsReady:{spellId:{spellId:108978}}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:108978}}},rhs:{const:{val:"50s"}}}}]}},castSpell:{spellId:{spellId:126734}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:112965},includeReactionTime:!0}},rhs:{const:{val:"2"}}}},{or:{vals:[{auraIsActive:{auraId:{spellId:12472},includeReactionTime:!0}},{auraIsActive:{auraId:{spellId:33697},includeReactionTime:!0}},{auraIsActive:{auraId:{itemId:76093},includeReactionTime:!0}},{auraIsActive:{auraId:{spellId:126734},includeReactionTime:!0}},{auraIsActive:{auraId:{spellId:26297},includeReactionTime:!0}},{cmp:{op:"OpGe",lhs:{numEquippedStatProcTrinkets:{statType1:3,statType2:7,statType3:6}},rhs:{const:{val:"2"}}}}]}},{or:{vals:[{auraIsActive:{auraId:{spellId:2825,tag:-1},includeReactionTime:!0}},{cmp:{op:"OpGe",lhs:{auraRemainingTime:{auraId:{spellId:57724}}},rhs:{const:{val:"180s"}}}}]}}]}},castSpell:{spellId:{spellId:108978}}}},{action:{condition:{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:112965},includeReactionTime:!0}},rhs:{const:{val:"2"}}}},castSpell:{spellId:{spellId:30455}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:44549},includeReactionTime:!0}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:108978}}},rhs:{const:{val:"10s"}}}}]}},castSpell:{spellId:{spellId:44614}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{math:{op:"OpMul",lhs:{dotTickFrequency:{spellId:{spellId:44457}}},rhs:{const:{val:"3"}}}}}}]}},multidot:{spellId:{spellId:44457},maxDots:3,maxOverlap:{math:{op:"OpAdd",lhs:{dotTickFrequency:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}}}}},{action:{strictMultidot:{spellId:{spellId:114923},maxDots:5,maxOverlap:{math:{op:"OpAdd",lhs:{dotTickFrequency:{spellId:{spellId:114923}}},rhs:{inputDelay:{}}}}}}},{action:{condition:{auraIsInactive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:112948},includeReactionTime:!0}},castSpell:{spellId:{spellId:112948}}}},{action:{condition:{spellIsReady:{spellId:{spellId:84714}}},castSpell:{spellId:{spellId:84714}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:112965},includeReactionTime:!0}},{cmp:{op:"OpGe",lhs:{spellTimeToReady:{spellId:{spellId:108978}}},rhs:{const:{val:"10s"}}}}]}},castSpell:{spellId:{spellId:30455}}}},{action:{castSpell:{spellId:{spellId:116}}}}]},j={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:31687}}},doAtValue:{const:{val:"-15s"}}},{action:{castSpell:{spellId:{spellId:12051}}},doAtValue:{const:{val:"-5s"}}},{action:{castSpell:{spellId:{spellId:116011}}},doAtValue:{const:{val:"-5s"}}}],priorityList:[{action:{condition:{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:116257}}},rhs:{spellCastTime:{spellId:{spellId:12051}}}}},castSpell:{spellId:{spellId:12051}}}},{action:{condition:{cmp:{op:"OpLe",lhs:{currentMana:{}},rhs:{const:{val:"45000"}}}},castSpell:{spellId:{spellId:12051}}}},{action:{condition:{and:{vals:[{spellIsKnown:{spellId:{spellId:116011}}},{or:{vals:[{auraIsInactive:{auraId:{spellId:116011},includeReactionTime:!0}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:116011}}},rhs:{spellCastTime:{spellId:{spellId:116011}}}}}]}}]}},castSpell:{spellId:{spellId:116011}}}},{action:{autocastOtherCooldowns:{}}},{action:{condition:{spellIsReady:{spellId:{spellId:84714}}},castSpell:{spellId:{spellId:84714}}}},{action:{condition:{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:112965},includeReactionTime:!0}},rhs:{const:{val:"2"}}}},castSpell:{spellId:{spellId:30455}}}},{action:{condition:{auraIsActive:{auraId:{spellId:44549},includeReactionTime:!0}},castSpell:{spellId:{spellId:44614}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{math:{op:"OpMul",lhs:{dotTickFrequency:{spellId:{spellId:44457}}},rhs:{const:{val:"3"}}}}}}]}},multidot:{spellId:{spellId:44457},maxDots:3,maxOverlap:{math:{op:"OpAdd",lhs:{dotTickFrequency:{spellId:{spellId:44457}}},rhs:{inputDelay:{}}}}}}},{action:{strictMultidot:{spellId:{spellId:114923},maxDots:5,maxOverlap:{math:{op:"OpAdd",lhs:{dotTickFrequency:{spellId:{spellId:114923}}},rhs:{inputDelay:{}}}}}}},{action:{condition:{auraIsInactive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:112948},includeReactionTime:!0}},castSpell:{spellId:{spellId:112948}}}},{action:{condition:{auraIsActive:{auraId:{spellId:112965},includeReactionTime:!0}},castSpell:{spellId:{spellId:30455}}}},{action:{channelSpell:{spellId:{spellId:10},interruptIf:{or:{vals:[{spellIsReady:{spellId:{spellId:84714}}},{auraIsActive:{auraId:{spellId:112965},includeReactionTime:!0}},{auraIsActive:{auraId:{spellId:44549},includeReactionTime:!0}}]}}}}}]},F={items:[{id:87008,gems:[76885,76642],reforging:167},{id:87076,reforging:146},{id:87011,enchant:4806,gems:[76642],reforging:167},{id:90512,enchant:4892,reforging:166},{id:87010,enchant:4419,gems:[76699,76699]},{id:86958,enchant:4414,gems:[0],reforging:153},{id:87007,enchant:4430,gems:[0],reforging:137,tinker:4898},{id:86981,gems:[76699,76642,76694]},{id:87174,enchant:4895,gems:[76668,76642]},{id:87162,enchant:4429,gems:[76699],reforging:168},{id:90511,reforging:116},{id:86949,reforging:145},{id:79331},{id:87175},{id:90513,enchant:4442,gems:[76642],reforging:167},{id:86960,enchant:4434,reforging:145}]},N={items:[{id:87008,gems:[76885,76642],reforging:167,upgradeStep:"UpgradeStepTwo"},{id:87076,upgradeStep:"UpgradeStepTwo"},{id:87011,enchant:4806,gems:[76682],reforging:167,upgradeStep:"UpgradeStepTwo"},{id:90512,enchant:4892,reforging:168,upgradeStep:"UpgradeStepTwo"},{id:87010,enchant:4419,gems:[76699,76699],upgradeStep:"UpgradeStepTwo"},{id:86958,enchant:4414,gems:[0],upgradeStep:"UpgradeStepTwo"},{id:87007,enchant:4430,gems:[0],upgradeStep:"UpgradeStepTwo",tinker:4898},{id:86981,gems:[76699,76682,76694],reforging:137,upgradeStep:"UpgradeStepTwo"},{id:87174,enchant:4895,gems:[76694,76682],upgradeStep:"UpgradeStepTwo"},{id:87162,enchant:4429,gems:[76668],reforging:165,upgradeStep:"UpgradeStepTwo"},{id:90511,reforging:116,upgradeStep:"UpgradeStepTwo"},{id:86949,reforging:138,upgradeStep:"UpgradeStepTwo"},{id:79331,upgradeStep:"UpgradeStepTwo"},{id:87175,upgradeStep:"UpgradeStepTwo"},{id:87164,enchant:4442,gems:[89882,76694],reforging:144,upgradeStep:"UpgradeStepTwo"},{id:86960,enchant:4434,reforging:145,upgradeStep:"UpgradeStepTwo"}]},W={items:[{id:96635,gems:[95347,76672],reforging:140},{id:96453,reforging:140,upgradeStep:"UpgradeStepTwo"},{id:96638,enchant:4806,gems:[76694,76672],reforging:147},{id:95014,enchant:4892,gems:[76672]},{id:95039,enchant:4419,gems:[76694,76694,76694]},{id:96506,enchant:4414,gems:[0],upgradeStep:"UpgradeStepTwo"},{id:96634,enchant:4430,gems:[76694,0],reforging:146,tinker:4898},{id:96462,gems:[76694,76672,76694],reforging:154,upgradeStep:"UpgradeStepTwo"},{id:96636,enchant:4895,gems:[76672,76682],reforging:147},{id:95004,enchant:4429,gems:[76672,76682],reforging:145},{id:95019,gems:[76682],reforging:140},{id:96529,gems:[76682],reforging:145,upgradeStep:"UpgradeStepTwo"},{id:96455,reforging:154,upgradeStep:"UpgradeStepTwo"},{id:96413,reforging:140,upgradeStep:"UpgradeStepTwo"},{id:96404,enchant:4442,gems:[76682,76694],reforging:147,upgradeStep:"UpgradeStepTwo"},{id:96562,enchant:4434,gems:[76694],reforging:147,upgradeStep:"UpgradeStepTwo"}]},K=e("P1 - Pre-BIS",{items:[{id:86717,gems:[76885,76682],reforging:167},{id:90596,reforging:145},{id:89340,enchant:4806,gems:[76668],reforging:138},{id:86874,enchant:4892,reforging:165},{id:86715,enchant:4419,gems:[76668,76668],reforging:144},{id:86828,enchant:4414,gems:[0]},{id:86718,enchant:4430,gems:[0],tinker:4898},{id:89062,gems:[76682,76694],reforging:145},{id:86716,enchant:4895,gems:[76694],reforging:168},{id:86888,enchant:4429,gems:[76668],reforging:165},{id:90859,reforging:168},{id:89072},{id:79331},{id:86907},{id:86886,enchant:4442,gems:[89882,0],reforging:144},{id:86829,enchant:4434,reforging:146}]}),X=e("P1 - BIS",F),Y=e("P2 - BIS",N),_=e("P3 - BIS",W),z=t("Default",V),Z=t("AOE",j),$=a("Item Level >= 517",g.fromMap({[I.StatIntellect]:1.23,[I.StatSpellPower]:1,[I.StatHitRating]:1.55,[I.StatCritRating]:.54,[I.StatHasteRating]:.81,[I.StatMasteryRating]:.52})),J=a("Item Level >= 500",g.fromMap({[I.StatIntellect]:1.26,[I.StatSpellPower]:1,[I.StatHitRating]:1.3,[I.StatCritRating]:.61,[I.StatHasteRating]:.74,[I.StatMasteryRating]:.52})),Q=a("Item Level < 500",g.fromMap({[I.StatIntellect]:1.25,[I.StatSpellPower]:1,[I.StatHitRating]:1.55,[I.StatCritRating]:.55,[I.StatHasteRating]:.62,[I.StatMasteryRating]:.5})),ee={name:"Default",data:u.create({talentsString:"311122",glyphs:m.create({major1:h.GlyphOfSplittingIce,major2:h.GlyphOfIcyVeins,major3:h.GlyphOfWaterElemental,minor1:S.GlyphOfMomentum,minor2:S.GlyphOfLooseMana,minor3:S.GlyphOfTheUnboundElemental})})},te=f.create({flaskId:76085,foodId:74650,potId:76093,prepotId:76093}),ae={name:"Cleave",data:u.create({talentsString:"311122",glyphs:m.create({major1:h.GlyphOfSplittingIce,major2:h.GlyphOfIcyVeins,major3:h.GlyphOfWaterElemental,minor1:S.GlyphOfMomentum,minor2:S.GlyphOfLooseMana,minor3:S.GlyphOfTheUnboundElemental})})},le={name:"AoE (5+)",data:u.create({talentsString:"311112",glyphs:m.create({major1:h.GlyphOfSplittingIce,major2:h.GlyphOfIcyVeins,major3:h.GlyphOfWaterElemental,minor1:S.GlyphOfMomentum,minor2:S.GlyphOfLooseMana,minor3:S.GlyphOfTheUnboundElemental})})},se=T.create({classOptions:{defaultMageArmor:v.MageArmorFrostArmor}}),ne={distanceFromTarget:20,profession1:R.Engineering,profession2:R.Tailoring,race:y.RaceOrc},ie=l("Single Target",s.defaultEncounterProto()),pe=l("Cleave",s.defaultEncounterProto(2)),oe=l("AoE (5+)",s.defaultEncounterProto(5)),re=n("Single Target",{talents:ee,rotation:z,encounter:ie}),de=n("Cleave",{talents:ae,rotation:z,encounter:pe}),ce=n("AoE (5+)",{talents:le,rotation:Z,encounter:oe}),ge=B.presets,Ie=[ge.get("6-tick - Living Bomb"),ge.get("7-tick - Living Bomb"),ge.get("8-tick - Living Bomb")],ue=[ge.get("15-tick - Nether Tempest"),ge.get("16-tick - Nether Tempest"),ge.get("17-tick - Nether Tempest"),ge.get("18-tick - Nether Tempest"),ge.get("19-tick - Nether Tempest"),ge.get("20-tick - Nether Tempest"),ge.get("21-tick - Nether Tempest"),ge.get("22-tick - Nether Tempest"),ge.get("23-tick - Nether Tempest")],me=[.56*H,.45*H,.35*H],Se=[.46*b],he=[.51*H,.44*H,.38*H],fe=[.48*b],Te=i(O.SpecFrostMage,{cssClass:"frost-mage-sim-ui",cssScheme:U.getCssClass(U.Mage),knownIssues:[],epStats:[I.StatIntellect,I.StatSpellPower,I.StatHitRating,I.StatCritRating,I.StatHasteRating,I.StatMasteryRating],epReferenceStat:I.StatSpellPower,displayStats:C.createDisplayStatArray([I.StatHealth,I.StatMana,I.StatStamina,I.StatIntellect,I.StatSpirit,I.StatSpellPower,I.StatMasteryRating,I.StatExpertiseRating],[E.PseudoStatSpellHitPercent,E.PseudoStatSpellCritPercent,E.PseudoStatSpellHastePercent]),gemStats:A,defaults:{gear:Y.gear,epWeights:J.epWeights,statCaps:(new g).withPseudoStat(E.PseudoStatSpellHitPercent,15),softCapBreakpoints:(()=>{const e=M.fromPseudoStat(E.PseudoStatSpellHastePercent,{breakpoints:Ie,capType:L.TypeThreshold,postCapEPs:Se});return[M.fromPseudoStat(E.PseudoStatSpellCritPercent,{breakpoints:[23,26,28],capType:L.TypeSoftCap,postCapEPs:me}),e]})(),consumables:te,talents:ee.data,specOptions:se,other:ne,raidBuffs:x,partyBuffs:w.create({}),individualBuffs:k.create({}),debuffs:q},playerIconInputs:[D()],rotationInputs:{inputs:[]},includeBuffDebuffInputs:[],excludeBuffDebuffInputs:[],otherInputs:{inputs:[p,o,r]},itemSwapSlots:[P.ItemSlotMainHand,P.ItemSlotOffHand,P.ItemSlotTrinket1,P.ItemSlotTrinket2],encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[Q,J,$],rotations:[z,Z],talents:[ee,ae,le],gear:[K,X,Y,_],builds:[re,de,ce]},autoRotation:e=>e.sim.encounter.targets.length>=5?Z.rotation.rotation:z.rotation.rotation,raidSimPresets:[{spec:O.SpecFrostMage,talents:ee.data,specOptions:se,consumables:te,otherDefaults:ne,defaultFactionRaces:{[G.Unknown]:y.RaceUnknown,[G.Alliance]:y.RaceAlliancePandaren,[G.Horde]:y.RaceOrc},defaultGear:{[G.Unknown]:{},[G.Alliance]:{1:K.gear},[G.Horde]:{1:K.gear}}}]});class ve extends d{constructor(e,t){super(e,t,Te),this.reforger=new c(this,{statSelectionPresets:[B],enableBreakpointLimits:!0,getEPDefaults:e=>{const t=e.getGear().getAverageItemLevel(!1);return t>=517?$.epWeights:t>=500?J.epWeights:Q.epWeights},updateSoftCaps:e=>{const a=t.getGear().getAverageItemLevel(!1);return this.individualConfig.defaults.softCapBreakpoints.forEach(l=>{const s=e.find(e=>e.unitStat.equals(l.unitStat));if(l.unitStat.equalsPseudoStat(E.PseudoStatSpellHastePercent)&&s){const e=t.getTalents();e.livingBomb?s.breakpoints=Ie:e.netherTempest&&(s.breakpoints=ue),s.postCapEPs=a>=517?fe:Se}l.unitStat.equalsPseudoStat(E.PseudoStatSpellCritPercent)&&s&&(s.postCapEPs=a>=517?he:me)}),e}})}}export{ve as F};
