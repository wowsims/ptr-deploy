import{Z as e,o as l,s as a,t as s,_ as t,a as n,O as p,v as r,y as o,x as i,T as d,V as c,W as I,Y as m,X as h,w as u,R as v}from"./preset_utils-D0KPBXib.chunk.js";import{L as g,V as T,W as f,Y as O,G as S,ak as R,af as b,an as y,ah as A,$ as G,a4 as P,a5 as w,a2 as k,a1 as L,c as C,b as E,S as D,a0 as M,a3 as x,ai as q,a7 as U,a as H,F,ab as K,X as W,ac as B,aj as N}from"./localization-efQrTVzH.chunk.js";import{W as V,P as j}from"./presets-1VYR8dxW.chunk.js";const _=e({fieldName:"exhaleWindow",label:g.t("rotation_tab.options.warlock.affliction.exhale_window.label"),labelTooltip:g.t("rotation_tab.options.warlock.affliction.exhale_window.tooltip"),showWhen:e=>!0}),X={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1.6s"}}},{action:{castSpell:{spellId:{spellId:48181}}},doAtValue:{const:{val:"-1.6s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{or:{vals:[{and:{vals:[{cmp:{op:"OpLt",lhs:{auraRemainingTime:{auraId:{spellId:126734}}},rhs:{const:{val:"6s"}}}},{auraIsActive:{auraId:{spellId:126734}}},{not:{val:{auraIsKnown:{auraId:{spellId:138963}}}}}]}},{auraIsActive:{auraId:{spellId:138963}}}]}},castSpell:{spellId:{spellId:57933,tag:-1}}}},{action:{condition:{variableRef:{name:"should-dark-soul"}},castSpell:{spellId:{spellId:113860}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"63s"}}}},{isExecutePhase:{threshold:"E20"}},{and:{vals:[{or:{vals:[{allTrinketStatProcsActive:{statType1:3,statType2:14,statType3:6}},{auraIsActive:{auraId:{itemId:76093}}}]}},{isExecutePhase:{threshold:"E25"}}]}}]}},castSpell:{spellId:{spellId:18540}}}},{action:{condition:{variableRef:{name:"should-potion"}},castSpell:{spellId:{itemId:76093}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"12s"}}}},{and:{vals:[{auraIsActive:{auraId:{spellId:113860}}},{or:{vals:[{not:{val:{variableRef:{name:"can-proc-more"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:113860}}},rhs:{const:{val:"13s"}}}}]}}]}}]}},castSpell:{spellId:{spellId:26297}}}},{action:{condition:{or:{vals:[{and:{vals:[{cmp:{op:"OpGe",lhs:{spellTimeToCharge:{spellId:{spellId:113860}}},rhs:{const:{val:"55s"}}}},{not:{val:{auraIsActive:{auraId:{spellId:113860}}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"12s"}}}},{and:{vals:[{auraIsActive:{auraId:{spellId:113860}}},{or:{vals:[{not:{val:{variableRef:{name:"can-proc-more"}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:113860}}},rhs:{const:{val:"13s"}}}}]}}]}}]}},castSpell:{spellId:{spellId:126734}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{spellTimeToCharge:{spellId:{spellId:113860}}},rhs:{const:{val:"115s"}}}},{auraIsActive:{auraId:{spellId:113860}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"22s"}}}},{auraIsActive:{auraId:{itemId:76093}}}]}},castSpell:{spellId:{spellId:74497}}}},{action:{castSpell:{spellId:{spellId:111897}}}},{action:{condition:{variableRef:{name:"should-sbss"}},strictSequence:{actions:[{castSpell:{spellId:{spellId:74434}}},{castSpell:{spellId:{spellId:86121,tag:2}}}]}}},{action:{condition:{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{variableRef:{name:"should-not-haunt"}}]}},{cmp:{op:"OpEq",lhs:{currentGenericResource:{}},rhs:{const:{val:"0"}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{math:{op:"OpSub",lhs:{variableRef:{name:"time-until-buffs-end"}},rhs:{channelClipDelay:{}}}}}},{variableRef:{name:"all-dots-active"}}]}},channelSpell:{spellId:{spellId:1120},interruptIf:{and:{vals:[{gcdIsReady:{}},{cmp:{op:"OpGe",lhs:{spellChanneledTicks:{spellId:{spellId:1120}}},rhs:{const:{val:"2"}}}}]}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentGenericResource:{}},rhs:{const:{val:"3"}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}},rhs:{variableRef:{name:"dots-min-time"}}}},{cmp:{op:"OpLt",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}},rhs:{variableRef:{name:"time-until-buffs-end"}}}},{variableRef:{name:"all-dots-active"}},{cmp:{op:"OpLt",lhs:{afflictionCurrentSnapshot:{spellId:{spellId:980}}},rhs:{const:{val:"45%"}}}},{cmp:{op:"OpLt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"30%"}}}},{not:{val:{isExecutePhase:{threshold:"E25"}}}},{cmp:{op:"OpGt",lhs:{currentManaPercent:{}},rhs:{const:{val:"15%"}}}}]}},channelSpell:{spellId:{spellId:1120},interruptIf:{and:{vals:[{gcdIsReady:{}},{cmp:{op:"OpGe",lhs:{spellChanneledTicks:{spellId:{spellId:1120}}},rhs:{const:{val:"2"}}}}]}},allowRecast:!0}}},{action:{condition:{or:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:980}}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:980}}},rhs:{variableRef:{name:"GCD-duration"}}}}]}},castSpell:{spellId:{spellId:980}}}},{action:{condition:{not:{val:{dotIsActive:{spellId:{spellId:172}}}}},castSpell:{spellId:{spellId:172}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:30108}}},rhs:{spellCastTime:{spellId:{spellId:30108}}}}},{not:{val:{dotIsActive:{spellId:{spellId:30108}}}}},{and:{vals:[{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:980}}},rhs:{math:{op:"OpMul",lhs:{variableRef:{name:"GCD-duration"}},rhs:{const:{val:"2"}}}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:30108}}},rhs:{math:{op:"OpMul",lhs:{variableRef:{name:"GCD-duration"}},rhs:{const:{val:"2"}}}}}}]}}]}},castSpell:{spellId:{spellId:30108}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:48181}}},rhs:{const:{val:"1s"}}}},{cmp:{op:"OpEq",lhs:{currentGenericResource:{}},rhs:{const:{val:"0"}}}},{not:{val:{spellInFlight:{spellId:{spellId:48181}}}}}]}},channelSpell:{spellId:{spellId:1120},interruptIf:{or:{vals:[{cmp:{op:"OpGt",lhs:{currentGenericResource:{}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpGe",lhs:{spellChanneledTicks:{spellId:{spellId:1120}}},rhs:{const:{val:"2"}}}}]}}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:48181}}},rhs:{math:{op:"OpAdd",lhs:{spellCastTime:{spellId:{spellId:48181}}},rhs:{math:{op:"OpAdd",lhs:{spellTravelTime:{spellId:{spellId:48181}}},rhs:{const:{val:"2s"}}}}}}}},{not:{val:{spellInFlight:{spellId:{spellId:48181}}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"3s"}}}},{not:{val:{variableRef:{name:"should-not-haunt"}}}}]}},castSpell:{spellId:{spellId:48181}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E20"}}}},{anyTrinketStatProcsAvailable:{statType1:7,statType2:-1,statType3:-1,minIcdSeconds:50}},{or:{vals:[{and:{vals:[{auraIsKnown:{auraId:{spellId:126659}}},{auraIsInactive:{auraId:{spellId:126659},includeReactionTime:!0}}]}},{and:{vals:[{auraIsKnown:{auraId:{spellId:138703}}},{auraIsInactive:{auraId:{spellId:138703},includeReactionTime:!0}}]}}]}}]}},channelSpell:{spellId:{spellId:103103},interruptIf:{gcdIsReady:{}},allowRecast:!0}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{currentManaPercent:{}},rhs:{const:{val:"15%"}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"10s"}}}}]}},castSpell:{spellId:{spellId:1454}}}},{action:{condition:{isExecutePhase:{threshold:"E20"}},channelSpell:{spellId:{spellId:1120},interruptIf:{or:{vals:[{gcdIsReady:{}}]}}}}},{action:{channelSpell:{spellId:{spellId:103103},interruptIf:{or:{vals:[{gcdIsReady:{}}]}}}}},{action:{castSpell:{spellId:{spellId:1454}}}}],valueVariables:[{name:"all-dots-active",value:{and:{vals:[{dotIsActive:{spellId:{spellId:980}}},{dotIsActive:{spellId:{spellId:172}}},{dotIsActive:{spellId:{spellId:30108}}}]}}},{name:"no-dots-active",value:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:980}}}}},{not:{val:{dotIsActive:{spellId:{spellId:172}}}}},{not:{val:{dotIsActive:{spellId:{spellId:30108}}}}}]}}},{name:"should-potion",value:{or:{vals:[{and:{vals:[{auraIsActive:{auraId:{spellId:113860}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{spellTimeToCharge:{spellId:{spellId:113860}}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"27s"}}}}]}}},{name:"should-dark-soul",value:{or:{vals:[{and:{vals:[{anyTrinketStatProcsActive:{statType1:3,statType2:7,statType3:6,minIcdSeconds:50}},{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"40s"}}}},{cmp:{op:"OpGt",lhs:{numEquippedStatProcTrinkets:{statType1:3,statType2:7,statType3:6,minIcdSeconds:50}},rhs:{const:{val:"0"}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"23s"}}}},{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:113860}}},rhs:{const:{val:"2"}}}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:138786}}},{auraIsActive:{auraId:{spellId:138786},includeReactionTime:!0}}]}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:138898}}},{auraIsActive:{auraId:{spellId:138898},includeReactionTime:!0}}]}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:139133}}},{auraIsActive:{auraId:{spellId:139133},includeReactionTime:!0}}]}},{and:{vals:[{auraIsKnown:{auraId:{spellId:138963}}},{auraIsActive:{auraId:{spellId:138963},includeReactionTime:!0}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}},{or:{vals:[{cmp:{op:"OpGt",lhs:{currentGenericResource:{}},rhs:{const:{val:"0s"}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:138963}}},rhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}}}}]}}]}}]}}},{name:"GCD-duration",value:{spellGcdHastedDuration:{spellId:{spellId:1454}}}},{name:"can-proc-more",value:{anyTrinketStatProcsAvailable:{statType1:7,statType2:6,statType3:3}}},{name:"should-sbss",value:{or:{vals:[{variableRef:{name:"no-dots-active"}},{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"40%"}}}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"20%"}}}},{not:{val:{variableRef:{name:"can-proc-more"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}},{or:{vals:[{auraIsInactive:{auraId:{spellId:138790}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:138786}}},rhs:{const:{val:"10"}}}}]}}]}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-2%"}}}},{cmp:{op:"OpLe",lhs:{variableRef:{name:"time-until-buffs-end"}},rhs:{variableRef:{name:"GCD-duration"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}},{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:980}}},rhs:{const:{val:"31s"}}}}]}},{and:{vals:[{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"0%"}}}},{cmp:{op:"OpLe",lhs:{variableRef:{name:"time-until-buffs-end"}},rhs:{variableRef:{name:"GCD-duration"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}}]}}]}}},{name:"time-until-buffs-end",value:{min:{vals:[{trinketProcsMinRemainingTime:{statType1:3,statType2:6,statType3:7}},{anyStatBuffCooldownsMinDuration:{statType1:3,statType2:7,statType3:14}}]}}},{name:"should-not-haunt",value:{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-2%"}}}},{cmp:{op:"OpGt",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}},rhs:{const:{val:"2s"}}}},rhs:{variableRef:{name:"time-until-buffs-end"}}}},{cmp:{op:"OpLe",lhs:{currentGenericResource:{}},rhs:{const:{val:"1"}}}}]}}},{name:"dots-min-time",value:{min:{vals:[{dotRemainingTime:{spellId:{spellId:980}}},{dotRemainingTime:{spellId:{spellId:30108}}},{dotRemainingTime:{spellId:{spellId:172}}}]}}}]},Y={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1.6s"}}},{action:{castSpell:{spellId:{spellId:48181}}},doAtValue:{const:{val:"-1.6s"}}}],priorityList:JSON.parse('[{"action":{"autocastOtherCooldowns":{}}},{"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"const":{"val":"6s"}}}},{"auraIsActive":{"auraId":{"spellId":126734}}},{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":138963}}}}}]}},{"auraIsActive":{"auraId":{"spellId":138963}}}]}},"castSpell":{"spellId":{"spellId":57933,"tag":-1}}}},{"action":{"condition":{"variableRef":{"name":"should-dark-soul"}},"castSpell":{"spellId":{"spellId":113860}}}},{"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"63s"}}}},{"isExecutePhase":{"threshold":"E20"}},{"and":{"vals":[{"or":{"vals":[{"allTrinketStatProcsActive":{"statType1":3,"statType2":14,"statType3":6}},{"auraIsActive":{"auraId":{"itemId":76093}}}]}},{"isExecutePhase":{"threshold":"E25"}}]}}]}},"castSpell":{"spellId":{"spellId":18540}}}},{"action":{"condition":{"variableRef":{"name":"should-potion"}},"castSpell":{"spellId":{"itemId":76093}}}},{"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"12s"}}}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"can-proc-more"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":113860}}},"rhs":{"const":{"val":"13s"}}}}]}}]}}]}},"castSpell":{"spellId":{"spellId":26297}}}},{"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpGe","lhs":{"spellTimeToCharge":{"spellId":{"spellId":113860}}},"rhs":{"const":{"val":"55s"}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":113860}}}}}]}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"12s"}}}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"can-proc-more"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":113860}}},"rhs":{"const":{"val":"13s"}}}}]}}]}}]}},"castSpell":{"spellId":{"spellId":126734}}}},{"action":{"condition":{"or":{"vals":[{"cmp":{"op":"OpGe","lhs":{"spellTimeToCharge":{"spellId":{"spellId":113860}}},"rhs":{"const":{"val":"115s"}}}},{"cmp":{"op":"OpLe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"22s"}}}},{"or":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860}}},{"auraIsActive":{"auraId":{"itemId":76093}}}]}}]}},"castSpell":{"spellId":{"spellId":74497}}}},{"action":{"castSpell":{"spellId":{"spellId":111897}}}},{"action":{"condition":{"variableRef":{"name":"should-sbss"}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":74434}}},{"castSpell":{"spellId":{"spellId":86121,"tag":2}}},{"cancelAura":{"auraId":{"spellId":86211}}}]}}},{"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"variableRef":{"name":"should-sbss"}},{"variableRef":{"name":"should-not-haunt"}}]}},{"cmp":{"op":"OpEq","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"0"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"math":{"op":"OpSub","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"channelClipDelay":{}}}}}},{"variableRef":{"name":"all-dots-active"}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"and":{"vals":[{"gcdIsReady":{}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}}}}},{"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"3"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"variableRef":{"name":"dots-min-time"}}}},{"cmp":{"op":"OpLt","lhs":{"math":{"op":"OpAdd","lhs":{"math":{"op":"OpMul","lhs":{"const":{"val":"2"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"variableRef":{"name":"time-until-buffs-end"}}}},{"variableRef":{"name":"all-dots-active"}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpLt","lhs":{"afflictionCurrentSnapshot":{"spellId":{"spellId":980}}},"rhs":{"const":{"val":"45%"}}}},{"cmp":{"op":"OpLt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"30%"}}}},{"not":{"val":{"isExecutePhase":{"threshold":"E25"}}}},{"cmp":{"op":"OpGt","lhs":{"currentManaPercent":{}},"rhs":{"const":{"val":"15%"}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"and":{"vals":[{"gcdIsReady":{}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}},"allowRecast":true}}},{"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":980}}}}}]}},{"auraIsInactive":{"auraId":{"spellId":86211}}}]}},"castSpell":{"spellId":{"spellId":980}}}},{"action":{"condition":{"or":{"vals":[{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":172}}},"rhs":{"const":{"val":"3s"}}}}]}},{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":172}}},"rhs":{"const":{"val":"6s"}}}}]}},{"and":{"vals":[{"auraIsInactive":{"auraId":{"spellId":86211},"includeReactionTime":true}},{"not":{"val":{"dotIsActive":{"spellId":{"spellId":172}}}}}]}}]}},"castSpell":{"spellId":{"spellId":172}}}},{"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"dotIsActive":{"spellId":{"spellId":30108}}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"3s"}}}},{"and":{"vals":[{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":980}}},"rhs":{"math":{"op":"OpMul","lhs":{"variableRef":{"name":"GCD-duration"}},"rhs":{"const":{"val":"2"}}}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"math":{"op":"OpMul","lhs":{"variableRef":{"name":"GCD-duration"}},"rhs":{"const":{"val":"2"}}}}}}]}},{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}},{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"const":{"val":"3s"}}}},{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"11s"}}}},{"auraIsActive":{"auraId":{"spellId":126734},"includeReactionTime":true}}]}}]}},{"auraIsInactive":{"auraId":{"spellId":86211}}}]}},"castSpell":{"spellId":{"spellId":30108}}}},{"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"dotRemainingTime":{"spellId":{"spellId":30108}}},"rhs":{"const":{"val":"3s"}}}},{"auraIsInactive":{"auraId":{"spellId":86211}}},{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}}]}},"castSpell":{"spellId":{"spellId":30108}}}},{"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":48181}}},"rhs":{"const":{"val":"1s"}}}},{"cmp":{"op":"OpEq","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"0"}}}},{"not":{"val":{"spellInFlight":{"spellId":{"spellId":48181}}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"cmp":{"op":"OpGt","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpGe","lhs":{"spellChanneledTicks":{"spellId":{"spellId":1120}}},"rhs":{"const":{"val":"2"}}}}]}}}}},{"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":48181}}},"rhs":{"math":{"op":"OpAdd","lhs":{"spellCastTime":{"spellId":{"spellId":48181}}},"rhs":{"math":{"op":"OpAdd","lhs":{"spellTravelTime":{"spellId":{"spellId":48181}}},"rhs":{"const":{"val":"2s"}}}}}}}},{"not":{"val":{"spellInFlight":{"spellId":{"spellId":48181}}}}},{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"and":{"vals":[{"dotIsActiveOnAllTargets":{"spellId":{"spellId":980}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":48181}}}}}]}}]}},{"cmp":{"op":"OpGt","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"3s"}}}},{"not":{"val":{"variableRef":{"name":"should-not-haunt"}}}}]}},"castSpell":{"spellId":{"spellId":48181}}}},{"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"spellIsReady":{"spellId":{"spellId":26297}}}]}},{"not":{"val":{"isExecutePhase":{"threshold":"E20"}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":86211}}}}},{"anyTrinketStatProcsAvailable":{"statType1":7,"statType2":-1,"statType3":-1,"minIcdSeconds":50}},{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":126659}}},{"auraIsInactive":{"auraId":{"spellId":126659},"includeReactionTime":true}}]}},{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":138703}}},{"auraIsInactive":{"auraId":{"spellId":138703},"includeReactionTime":true}}]}}]}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"gcdIsReady":{}},"allowRecast":true}}},{"action":{"condition":{"and":{"vals":[{"variableRef":{"name":"should-swap"}},{"or":{"vals":[{"and":{"vals":[{"or":{"vals":[{"auraIsInactive":{"auraId":{"spellId":126734}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":126734}}},"rhs":{"math":{"op":"OpAdd","lhs":{"const":{"val":"2s"}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":86121,"tag":1}}}}}}}]}},{"auraIsKnown":{"auraId":{"spellId":126734}}}]}},{"not":{"val":{"auraIsKnown":{"auraId":{"spellId":126734}}}}},{"cmp":{"op":"OpLt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":86121,"tag":1}}},"rhs":{"const":{"val":"0%"}}}}]}},{"not":{"val":{"and":{"vals":[{"spellIsReady":{"spellId":{"spellId":126734}}},{"auraIsActive":{"auraId":{"spellId":113860},"includeReactionTime":true}}]}}}}]}},"castSpell":{"spellId":{"spellId":86121,"tag":1}}}},{"action":{"condition":{"and":{"vals":[{"auraIsActive":{"auraId":{"spellId":86211},"includeReactionTime":true}},{"cmp":{"op":"OpGe","lhs":{"currentGenericResource":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"and":{"vals":[{"auraIsKnown":{"auraId":{"spellId":26297}}},{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":26297}}},"rhs":{"const":{"val":"2s"}}}},{"auraIsActive":{"auraId":{"spellId":26297}}}]}},{"cmp":{"op":"OpLt","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"const":{"val":"2s"}}}}]}}]}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},{"action":{"condition":{"not":{"val":{"dotIsActiveOnAllTargets":{"spellId":{"spellId":980}}}}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},{"action":{"condition":{"and":{"vals":[{"or":{"vals":[{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":1454}}}}}]}},{"cmp":{"op":"OpLe","lhs":{"currentManaPercent":{}},"rhs":{"const":{"val":"15%"}}}},{"cmp":{"op":"OpGe","lhs":{"remainingTime":{}},"rhs":{"const":{"val":"10s"}}}}]}},"castSpell":{"spellId":{"spellId":1454}}}},{"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"spellGcdHastedDuration":{"spellId":{"spellId":1120}}}}},{"isExecutePhase":{"threshold":"E20"}}]}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"gcdIsReady":{}}}}},{"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"or":{"vals":[{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}}]}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"cmp":{"op":"OpGt","lhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":103103}}},"rhs":{"channelClipDelay":{}}}},"rhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}}}}}}},{"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"variableRef":{"name":"GCD-duration"}}}}]}},"wait":{"duration":{"math":{"op":"OpSub","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"afflictionExhaleWindow":{}}}}}}},{"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"afflictionExhaleWindow":{}}}}]}},"strictSequence":{"actions":[{"castSpell":{"spellId":{"spellId":86213},"target":{"type":"NextTarget"}}},{"warlockNextExhaleTarget":{}}]}}},{"hide":true,"action":{"condition":{"and":{"vals":[{"isExecutePhase":{"threshold":"E20"}},{"cmp":{"op":"OpEq","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"spellIsChanneling":{"spellId":{"spellId":1120}}},{"cmp":{"op":"OpLe","lhs":{"variableRef":{"name":"time-until-buffs-end"}},"rhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}}}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}}]}},"allowRecast":true}}},{"action":{"condition":{"and":{"vals":[{"isExecutePhase":{"threshold":"E20"}},{"or":{"vals":[{"cmp":{"op":"OpEq","lhs":{"numberTargets":{}},"rhs":{"const":{"val":"1"}}}},{"not":{"val":{"variableRef":{"name":"should-swap"}}}},{"cmp":{"op":"OpGt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":1120}}},"rhs":{"channelClipDelay":{}}}}}}]}}]}},"channelSpell":{"spellId":{"spellId":1120},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}}]}}}}},{"hide":true,"action":{"condition":{"and":{"vals":[{"cmp":{"op":"OpGt","lhs":{"dotPercentIncrease":{"spellId":{"spellId":103103}}},"rhs":{"const":{"val":"35%"}}}},{"spellIsChanneling":{"spellId":{"spellId":103103}}}]}},"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"gcdIsReady":{}},"allowRecast":true}}},{"action":{"channelSpell":{"spellId":{"spellId":103103},"interruptIf":{"or":{"vals":[{"gcdIsReady":{}},{"and":{"vals":[{"cmp":{"op":"OpLt","lhs":{"auraRemainingTime":{"auraId":{"spellId":86211}}},"rhs":{"math":{"op":"OpAdd","lhs":{"dotTickFrequency":{"spellId":{"spellId":103103}}},"rhs":{"channelClipDelay":{}}}}}},{"auraIsActive":{"auraId":{"spellId":86211},"includeReactionTime":true}}]}}]}}}}},{"action":{"castSpell":{"spellId":{"spellId":1454}}}}]'),valueVariables:[{name:"all-dots-active",value:{and:{vals:[{dotIsActive:{spellId:{spellId:980}}},{dotIsActive:{spellId:{spellId:172}}},{dotIsActive:{spellId:{spellId:30108}}}]}}},{name:"no-dots-active",value:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:980}}}}},{not:{val:{dotIsActive:{spellId:{spellId:172}}}}},{not:{val:{dotIsActive:{spellId:{spellId:30108}}}}}]}}},{name:"should-potion",value:{or:{vals:[{and:{vals:[{auraIsActive:{auraId:{spellId:113860}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{spellTimeToCharge:{spellId:{spellId:113860}}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"27s"}}}}]}}},{name:"should-dark-soul",value:{or:{vals:[{and:{vals:[{anyTrinketStatProcsActive:{statType1:3,statType2:7,statType3:6,minIcdSeconds:50}},{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"40s"}}}},{cmp:{op:"OpGt",lhs:{numEquippedStatProcTrinkets:{statType1:3,statType2:7,statType3:6,minIcdSeconds:50}},rhs:{const:{val:"0"}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"23s"}}}},{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:113860}}},rhs:{const:{val:"2"}}}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:138786}}},{auraIsActive:{auraId:{spellId:138786},includeReactionTime:!0}}]}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:138898}}},{auraIsActive:{auraId:{spellId:138898},includeReactionTime:!0}}]}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:139133}}},{auraIsActive:{auraId:{spellId:139133},includeReactionTime:!0}}]}},{and:{vals:[{or:{vals:[{variableRef:{name:"should-sbss"}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}}]}},{auraIsKnown:{auraId:{spellId:137590}}},{auraIsActive:{auraId:{spellId:137590},includeReactionTime:!0}}]}},{and:{vals:[{auraIsKnown:{auraId:{spellId:138963}}},{auraIsActive:{auraId:{spellId:138963},includeReactionTime:!0}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-25%"}}}},{or:{vals:[{cmp:{op:"OpGt",lhs:{currentGenericResource:{}},rhs:{const:{val:"0s"}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:138963}}},rhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}}}}]}}]}}]}}},{name:"GCD-duration",value:{spellGcdHastedDuration:{spellId:{spellId:1454}}}},{name:"should-swap",value:{and:{vals:[{cmp:{op:"OpGt",lhs:{numberTargets:{}},rhs:{const:{val:"1"}}}},{or:{vals:[{not:{val:{dotIsActiveOnAllTargets:{spellId:{spellId:980}}}}},{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:980}}},rhs:{remainingTime:{}}}}]}}]}}},{name:"can-proc-more",value:{anyTrinketStatProcsAvailable:{statType1:7,statType2:6,statType3:3}}},{name:"should-sbss",value:{or:{vals:[{variableRef:{name:"no-dots-active"}},{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"40%"}}}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"20%"}}}},{not:{val:{variableRef:{name:"can-proc-more"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}},{or:{vals:[{auraIsInactive:{auraId:{spellId:138790}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{auraId:{spellId:138786}}},rhs:{const:{val:"10"}}}}]}}]}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-2%"}}}},{cmp:{op:"OpLe",lhs:{variableRef:{name:"time-until-buffs-end"}},rhs:{variableRef:{name:"GCD-duration"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}},{or:{vals:[{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:980}}},rhs:{const:{val:"32s"}}}},{cmp:{op:"OpGt",lhs:{numberTargets:{}},rhs:{const:{val:"1"}}}}]}}]}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"1%"}}}},{cmp:{op:"OpLe",lhs:{variableRef:{name:"time-until-buffs-end"}},rhs:{variableRef:{name:"GCD-duration"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}}]}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:980}}},rhs:{const:{val:"-50%"}}}},{anyTrinketStatProcsActive:{statType1:3,statType2:6,statType3:7,minIcdSeconds:50}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{variableRef:{name:"dots-min-time"}}}},{cmp:{op:"OpGt",lhs:{numberTargets:{}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpLt",lhs:{variableRef:{name:"dots-min-time"}},rhs:{const:{val:"6s"}}}}]}}]}}},{name:"time-until-buffs-end",value:{min:{vals:[{trinketProcsMinRemainingTime:{statType1:3,statType2:6,statType3:7}},{anyStatBuffCooldownsMinDuration:{statType1:3,statType2:7,statType3:14}}]}}},{name:"should-not-haunt",value:{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:86121,tag:1}}},rhs:{const:{val:"-2%"}}}},{cmp:{op:"OpGt",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpAdd",lhs:{math:{op:"OpMul",lhs:{const:{val:"2"}},rhs:{dotTickFrequency:{spellId:{spellId:1120}}}}},rhs:{channelClipDelay:{}}}},rhs:{const:{val:"2s"}}}},rhs:{variableRef:{name:"time-until-buffs-end"}}}},{cmp:{op:"OpLe",lhs:{currentGenericResource:{}},rhs:{const:{val:"1"}}}}]}}},{name:"dots-min-time",value:{min:{vals:[{dotRemainingTime:{spellId:{spellId:980}}},{dotRemainingTime:{spellId:{spellId:30108}}},{dotRemainingTime:{spellId:{spellId:172}}}]}}}]},z={items:[{id:87188,gems:[76885,76642],reforging:145},{id:87028,reforging:145},{id:87191,enchant:4806,gems:[76642],reforging:167},{id:90512,enchant:4892,reforging:168},{id:87169,enchant:4419,gems:[76667,76699],reforging:138},{id:86958,enchant:4414,gems:[0],reforging:154},{id:87187,enchant:4433,gems:[0],reforging:140,tinker:4898},{id:86981,gems:[76667,76642,76699],reforging:140},{id:87189,enchant:4825,gems:[76667]},{id:87162,enchant:4429,gems:[76699]},{id:86949,reforging:145},{id:90511,reforging:119},{id:87175},{id:87065},{id:90513,enchant:4442,gems:[76642],reforging:144},{id:86960,enchant:4434,reforging:145}]},J={items:[{id:87188,gems:[76885,76642],reforging:145,upgradeStep:"UpgradeStepTwo"},{id:87028,reforging:145,upgradeStep:"UpgradeStepTwo"},{id:87191,enchant:4806,gems:[76642],reforging:138,upgradeStep:"UpgradeStepTwo"},{id:90512,enchant:4892,upgradeStep:"UpgradeStepTwo"},{id:87169,enchant:4419,gems:[76667,76700],reforging:167,upgradeStep:"UpgradeStepTwo"},{id:86958,enchant:4414,gems:[0],reforging:140,upgradeStep:"UpgradeStepTwo"},{id:87187,enchant:4433,gems:[0],upgradeStep:"UpgradeStepTwo",tinker:4898},{id:86981,gems:[76667,76642,76700],reforging:140,upgradeStep:"UpgradeStepTwo"},{id:87189,enchant:4825,gems:[76671],upgradeStep:"UpgradeStepTwo"},{id:87162,enchant:4429,gems:[76699],upgradeStep:"UpgradeStepTwo"},{id:86949,reforging:145,upgradeStep:"UpgradeStepTwo"},{id:90511,reforging:119,upgradeStep:"UpgradeStepTwo"},{id:87175,upgradeStep:"UpgradeStepTwo"},{id:87065,upgradeStep:"UpgradeStepTwo"},{id:87164,enchant:4442,gems:[89882,76699],reforging:144,upgradeStep:"UpgradeStepTwo"},{id:86960,enchant:4434,reforging:145,upgradeStep:"UpgradeStepTwo"}]},Z={items:[{id:96887,gems:[95347,76643]},{id:96825,reforging:147},{id:96729,enchant:4806,gems:[76672,76700],reforging:147},{id:95014,enchant:4423,gems:[76700],reforging:140},{id:96728,enchant:4419,gems:[76672,76700,76643],reforging:138},{id:96824,randomSuffix:-340,enchant:4414,gems:[76700,0],reforging:154},{id:96854,enchant:4430,gems:[76700,76643,0],reforging:140,tinker:4898},{id:96834,gems:[76672,76700,76700],reforging:140},{id:95030,enchant:4825,gems:[76671,76700,76700]},{id:95004,enchant:4429,gems:[76700,76643],reforging:145},{id:95019,gems:[76643],reforging:140},{id:96901,gems:[76643],reforging:145},{id:96785,reforging:140},{id:96930},{id:96890,enchant:4442,gems:[76672,76700]},{id:96934,enchant:4434,gems:[76672],reforging:147}]},$=l("Pre-raid",{items:[{id:77533,gems:[76885,77542,77543]},{id:90596,reforging:145},{id:91781,enchant:4806,gems:[76699],reforging:168},{id:81575,enchant:4892,reforging:167},{id:82437,enchant:4419,gems:[76699,76642],reforging:168},{id:88893,enchant:4414,gems:[0],reforging:167},{id:82438,enchant:4433,gems:[76642,0],reforging:167,tinker:4898},{id:89062,gems:[76642,76699],reforging:138},{id:91777,enchant:4825,gems:[76667,76642],reforging:168},{id:81699,enchant:4429,gems:[76699],reforging:145},{id:90859,reforging:167},{id:90591,reforging:145},{id:79331},{id:81192},{id:81691,enchant:4442,reforging:145},{}]}),Q=l("P1 - BIS",z),ee=l("P2 - BIS",J),le=l("P3 (Tentative)",Z),ae=a("Single Target",X),se=a("Multi Target",Y),te=s("Item Level < 512",T.fromMap({[f.StatIntellect]:1.23,[f.StatSpellPower]:1,[f.StatHitRating]:.93,[f.StatCritRating]:.54,[f.StatHasteRating]:.83,[f.StatMasteryRating]:.67})),ne=s("Item Level >= 512",T.fromMap({[f.StatIntellect]:1.23,[f.StatSpellPower]:1,[f.StatHitRating]:.9,[f.StatCritRating]:.56,[f.StatHasteRating]:.73,[f.StatMasteryRating]:.68})),pe={name:"Affliction",data:O.create({talentsString:"231211",glyphs:S.create({major1:b.GlyphOfUnstableAffliction,major2:b.GlyphOfSiphonLife,minor3:R.GlyphOfUnendingBreath})})},re=y.create({classOptions:{summon:A.Felhunter},exhaleWindow:250}),oe=G.create({flaskId:76085,foodId:74650,potId:76093,prepotId:76093}),ie=P.create({...w(),arcaneBrilliance:!0,blessingOfKings:!0,leaderOfThePack:!0,blessingOfMight:!0,bloodlust:!0,moonkinAura:!0,unholyAura:!0}),de=k.create({}),ce=L.create({curseOfElements:!0,weakenedArmor:!0,physicalVulnerability:!0}),Ie={race:E.RaceTroll,distanceFromTarget:25,profession1:C.Engineering,profession2:C.Tailoring,channelClipDelay:150},me=V,he=t("Single Target Dummy",n.defaultEncounterProto()),ue=t("Multitarget",n.defaultEncounterProto(3)),ve=p("Single Target",{talents:pe,rotation:ae,encounter:he}),ge=p("Multi Target",{talents:pe,rotation:se,encounter:ue}),Te=[me.presets.get("12-tick - Corruption"),me.presets.get("16-tick - Agony"),me.presets.get("10-tick - Unstable Affliction"),me.presets.get("17-tick - Agony"),me.presets.get("13-tick - Corruption"),me.presets.get("18-tick - Agony"),me.presets.get("14-tick - Corruption"),me.presets.get("11-tick - Unstable Affliction"),me.presets.get("19-tick - Agony"),me.presets.get("15-tick - Corruption")],fe=r(D.SpecAfflictionWarlock,{cssClass:"affliction-warlock-sim-ui",cssScheme:H.getCssClass(H.Warlock),knownIssues:[],epStats:[f.StatIntellect,f.StatSpellPower,f.StatHitRating,f.StatCritRating,f.StatHasteRating,f.StatMasteryRating],epReferenceStat:f.StatSpellPower,displayStats:U.createDisplayStatArray([f.StatHealth,f.StatMana,f.StatStamina,f.StatIntellect,f.StatSpellPower,f.StatMasteryRating,f.StatExpertiseRating,f.StatMP5],[W.PseudoStatSpellHitPercent,W.PseudoStatSpellCritPercent,W.PseudoStatSpellHastePercent]),gemStats:q,defaults:{gear:ee.gear,epWeights:ne.epWeights,statCaps:(new T).withPseudoStat(W.PseudoStatSpellHitPercent,15),softCapBreakpoints:[K.fromPseudoStat(W.PseudoStatSpellHastePercent,{breakpoints:Te,capType:B.TypeSoftCap,postCapEPs:Te.map(()=>(te.epWeights.getStat(f.StatMasteryRating)-.05)*N)})],consumables:oe,talents:pe.data,specOptions:re,raidBuffs:ie,partyBuffs:x.create({}),individualBuffs:de,debuffs:ce,other:Ie},playerIconInputs:[j()],includeBuffDebuffInputs:[I,m,h],excludeBuffDebuffInputs:[],petConsumeInputs:[],otherInputs:{inputs:[_,o,i,d,c]},itemSwapSlots:[M.ItemSlotMainHand,M.ItemSlotOffHand,M.ItemSlotTrinket1,M.ItemSlotTrinket2],encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[te,ne],talents:[pe],rotations:[ae,se],builds:[ve,ge],gear:[$,Q,ee,le],itemSwaps:[]},autoRotation:e=>e.sim.encounter.targets.length>1?se.rotation.rotation:ae.rotation.rotation,raidSimPresets:[{spec:D.SpecAfflictionWarlock,talents:pe.data,specOptions:re,consumables:oe,defaultFactionRaces:{[F.Unknown]:E.RaceUnknown,[F.Alliance]:E.RaceHuman,[F.Horde]:E.RaceTroll},defaultGear:{[F.Unknown]:{},[F.Alliance]:{1:$.gear,2:Q.gear},[F.Horde]:{1:$.gear,2:Q.gear}},otherDefaults:Ie}]});class Oe extends u{constructor(e,l){super(e,l,fe);const a=[{unitStat:U.fromPseudoStat(W.PseudoStatSpellHastePercent),presets:me.presets}];this.reforger=new v(this,{statSelectionPresets:a,enableBreakpointLimits:!0,getEPDefaults:e=>e.getGear().getAverageItemLevel(!1)>=512?ne.epWeights:te.epWeights})}}export{Oe as A};
