import{V as e,W as a,Y as t,G as s,ak as l,af as o,al as n,ah as p,$ as r,a4 as i,a5 as d,a2 as c,a1 as m,c as I,b as g,a7 as u,X as h,S,a0 as f,a3 as v,ai as k,a as O,F as T,ab as R,ac as A,aj as P,e as w,f as D,am as G}from"./localization-efQrTVzH.chunk.js";import{o as C,s as b,t as y,O as F,v as L,y as H,x as U,T as B,V as M,W as x,Y as E,X as N,w as q,R as V}from"./preset_utils-D0KPBXib.chunk.js";import{W,P as j}from"./presets-1VYR8dxW.chunk.js";const K={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}},hide:!0},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{spellId:105174}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{not:{val:{dotIsActive:{spellId:{spellId:172}}}}},castSpell:{spellId:{spellId:172}}}},{action:{castSpell:{spellId:{spellId:89751}}}},{action:{castSpell:{spellId:{spellId:111898}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"61s"}}}},{isExecutePhase:{threshold:"E20"}}]}},castSpell:{spellId:{spellId:18540}}}},{action:{castSpell:{spellId:{spellId:126734}}}},{action:{condition:{auraIsActive:{auraId:{spellId:113861}}},castSpell:{spellId:{otherId:"OtherActionPotion"}}}},{action:{condition:{auraIsActive:{auraId:{spellId:113861}}},castSpell:{spellId:{spellId:26297}}}},{action:{condition:{or:{vals:[{and:{vals:[{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:113861}}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpLe",lhs:{spellTimeToCharge:{spellId:{spellId:113861}}},rhs:{const:{val:"10s"}}}}]}},{and:{vals:[{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:113861}}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpLe",lhs:{spellTimeToReady:{spellId:{spellId:104316}}},rhs:{const:{val:"1s"}}}}]}},{and:{vals:[{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:113861}}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpGe",lhs:{trinketProcsMinRemainingTime:{statType1:7,statType2:3,statType3:-1,minIcdSeconds:40}},rhs:{const:{val:"15s"}}}}]}},{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:113861}}}}},{cmp:{op:"OpGe",lhs:{auraRemainingTime:{auraId:{spellId:2825,tag:-1}}},rhs:{const:{val:"15s"}}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"22s"}}}}]}},castSpell:{spellId:{spellId:113861}}}},{action:{condition:{and:{vals:[{or:{vals:[{cmp:{op:"OpGe",lhs:{auraRemainingTime:{auraId:{spellId:113861}}},rhs:{const:{val:"18s"}}}},{auraIsActive:{auraId:{spellId:26297}}},{cmp:{op:"OpGe",lhs:{auraRemainingTime:{auraId:{itemId:76093}}},rhs:{const:{val:"18s"}}}}]}},{not:{val:{variableRef:{name:"GCD Drops SF"}}}}]}},castSpell:{spellId:{spellId:104316}}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:103958}}},{auraIsInactive:{auraId:{spellId:113861}}},{cmp:{op:"OpLe",lhs:{currentGenericResource:{}},rhs:{const:{val:"600"}}}},{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"30s"}}}},{or:{vals:[{cmp:{op:"OpLe",lhs:{spellTimeToReady:{spellId:{spellId:103958}}},rhs:{const:{val:"2s"}}}},{cmp:{op:"OpLe",lhs:{currentGenericResource:{}},rhs:{const:{val:"400"}}}}]}},{}]}},castSpell:{spellId:{spellId:103958}}}},{action:{condition:{or:{vals:[{and:{vals:[{auraIsActive:{auraId:{spellId:113861}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:113861}}},rhs:{const:{val:"10s"}}}},{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"5s"}}}},{not:{val:{dotIsActive:{spellId:{spellId:47960}}}}}]}},{and:{vals:[{cmp:{op:"OpGt",lhs:{currentGenericResource:{}},rhs:{const:{val:"200"}}}},{cmp:{op:"OpGt",lhs:{currentTime:{}},rhs:{const:{val:"5s"}}}},{cmp:{op:"OpLt",lhs:{currentTime:{}},rhs:{const:{val:"20s"}}}}]}},{and:{vals:[{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"30s"}}}},{cmp:{op:"OpGe",lhs:{currentGenericResource:{}},rhs:{const:{val:"500"}}}}]}},{variableRef:{name:"UVLOS Doom"}}]}},castSpell:{spellId:{spellId:103958}}}},{action:{condition:{auraIsActive:{auraId:{spellId:103958}}},groupReference:{groupName:"Meta GCD"}}},{action:{groupReference:{groupName:"Non-Meta GCD"}}}],groups:[{name:"HOG: 2 stacks / 1 & expire soon",actions:[{action:{condition:{or:{vals:[{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:105174}}},rhs:{const:{val:"2"}}}},{and:{vals:[{cmp:{op:"OpEq",lhs:{spellNumCharges:{spellId:{spellId:105174}}},rhs:{const:{val:"1"}}}},{cmp:{op:"OpLe",lhs:{spellTimeToCharge:{spellId:{spellId:105174}}},rhs:{const:{val:"2.5s"}}}}]}}]}},castSpell:{spellId:{spellId:105174}}}}]},{name:"Non-Meta GCD",actions:[{action:{condition:{cmp:{op:"OpGt",lhs:{remainingTime:{}},rhs:{const:{val:"6s"}}}},multidot:{spellId:{spellId:172},maxDots:1,maxOverlap:{dotTickFrequency:{spellId:{spellId:172}}}}}},{action:{groupReference:{groupName:"HOG: 2 stacks / 1 & expire soon"}}},{action:{condition:{and:{vals:[{not:{val:{variableRef:{name:"SF Drops SF"}}}},{or:{vals:[{isExecutePhase:{threshold:"E25"}},{cmp:{op:"OpGt",lhs:{auraNumStacks:{auraId:{spellId:122355}}},rhs:{const:{val:"1"}}}}]}},{auraIsActive:{auraId:{spellId:122355}}}]}},castSpell:{spellId:{spellId:6353}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{currentManaPercent:{}},rhs:{const:{val:"30%"}}}},{not:{val:{variableRef:{name:"GCD Drops SF"}}}},{not:{val:{auraIsActive:{auraId:{spellId:103958}}}}}]}},castSpell:{spellId:{spellId:1454}}}},{action:{condition:{and:{vals:[{not:{val:{variableRef:{name:"SB Drops SF"}}}}]}},castSpell:{spellId:{spellId:686}}}},{action:{condition:{and:{vals:[{not:{val:{variableRef:{name:"GCD Drops SF"}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:172}}},rhs:{const:{val:"7s"}}}}]}},castSpell:{spellId:{spellId:172}}}},{action:{condition:{and:{vals:[{not:{val:{variableRef:{name:"GCD Drops SF"}}}},{cmp:{op:"OpLe",lhs:{currentMana:{}},rhs:{const:{val:"250000"}}}},{dotIsActive:{spellId:{spellId:47960}}}]}},castSpell:{spellId:{spellId:1454}}}},{action:{condition:{dotIsActive:{spellId:{spellId:47960}}},strictSequence:{actions:[{castSpell:{spellId:{spellId:105174}}},{waitUntil:{condition:{gcdIsReady:{}}}},{castSpell:{spellId:{spellId:103958}}}]}}},{action:{castSpell:{spellId:{spellId:686}}}},{action:{castSpell:{spellId:{spellId:1454}}}}]},{name:"Meta GCD",actions:[{action:{condition:{or:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:603}}},rhs:{const:{val:"25%"}}}},{and:{vals:[{cmp:{op:"OpGe",lhs:{dotPercentIncrease:{spellId:{spellId:603}}},rhs:{const:{val:"0%"}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:603}}},rhs:{math:{op:"OpAdd",lhs:{dotBaseDuration:{spellId:{spellId:603}}},rhs:{const:{val:"2s"}}}}}},{auraIsActive:{auraId:{spellId:2825,tag:-1}}}]}},{variableRef:{name:"UVLOS Doom"}}]}},castSpell:{spellId:{spellId:603}}}},{action:{multidot:{spellId:{spellId:603},maxDots:1,maxOverlap:{dotTickFrequency:{spellId:{spellId:603}}}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:172}}},rhs:{const:{val:"4s"}}}},{cmp:{op:"OpGt",lhs:{dotPercentIncrease:{spellId:{spellId:172}}},rhs:{const:{val:"0%"}}}}]}},castSpell:{spellId:{spellId:103964}}}},{action:{groupReference:{groupName:"HOG: 2 stacks / 1 & expire soon"}}},{action:{condition:{and:{vals:[{auraIsActive:{auraId:{spellId:122355}}},{or:{vals:[{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:113861}}},rhs:{spellCastTime:{spellId:{spellId:104027}}}}},{isExecutePhase:{threshold:"E25"}}]}},{cmp:{op:"OpGe",lhs:{currentGenericResource:{}},rhs:{const:{val:"104"}}}}]}},castSpell:{spellId:{spellId:104027}}}},{action:{castSpell:{spellId:{spellId:103964}}}}]}],valueVariables:[{name:"SF: Has 1 stack",value:{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:47960},includeReactionTime:!0}},rhs:{const:{val:"1"}}}}},{name:"SF: Math 1.3+GCD",value:{math:{op:"OpAdd",lhs:{const:{val:"1.3s"}},rhs:{gcdTimeToReady:{}}}}},{name:"GCD Drops SF",value:{and:{vals:[{variableRef:{name:"SF: Has 1 stack"}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:47960}}},rhs:{math:{op:"OpAdd",lhs:{variableRef:{name:"SF: Math 1.3+GCD"}},rhs:{spellGcdHastedDuration:{spellId:{spellId:172}}}}}}}]}}},{name:"SF Drops SF",value:{and:{vals:[{variableRef:{name:"SF: Has 1 stack"}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:47960}}},rhs:{math:{op:"OpAdd",lhs:{variableRef:{name:"SF: Math 1.3+GCD"}},rhs:{spellCastTime:{spellId:{spellId:6353}}}}}}}]}}},{name:"SB Drops SF",value:{and:{vals:[{variableRef:{name:"SF: Has 1 stack"}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:47960}}},rhs:{math:{op:"OpAdd",lhs:{variableRef:{name:"SF: Math 1.3+GCD"}},rhs:{spellCastTime:{spellId:{spellId:686}}}}}}}]}}},{name:"UVLOS Doom",value:{and:{vals:[{auraIsKnown:{auraId:{spellId:138963}}},{auraIsActive:{auraId:{spellId:138963},includeReactionTime:!0}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:603}}},rhs:{math:{op:"OpMul",lhs:{dotBaseDuration:{spellId:{spellId:603}}},rhs:{const:{val:"0.33"}}}}}}]}}}]},X={items:[{id:87188,gems:[76885,76682],reforging:167},{id:87028,reforging:138},{id:87191,enchant:4806,gems:[76682],reforging:138},{id:90512,enchant:4892,reforging:168},{id:87190,enchant:4419,gems:[76668,76668],reforging:144},{id:86958,gems:[0],reforging:140},{id:87187,enchant:4433,gems:[0],tinker:4898},{id:86981,gems:[76668,76682,76694]},{id:86989,enchant:4825,gems:[76628,76682],reforging:145},{id:86969,enchant:4429,gems:[76602],reforging:167},{id:86949,reforging:145},{id:90511,reforging:115},{id:87175},{id:87065},{id:87164,enchant:4442,gems:[89882],reforging:146},{id:86960,enchant:4434,reforging:145}]},Y={items:[{id:87188,gems:[76885,76643],reforging:145,upgradeStep:"UpgradeStepTwo"},{id:87028,reforging:145,upgradeStep:"UpgradeStepTwo"},{id:87191,enchant:4806,gems:[76643],reforging:167,upgradeStep:"UpgradeStepTwo"},{id:90512,enchant:4892,reforging:168,upgradeStep:"UpgradeStepTwo"},{id:87190,enchant:4419,gems:[76700,76700],reforging:144,upgradeStep:"UpgradeStepTwo"},{id:86958,enchant:4414,gems:[0],upgradeStep:"UpgradeStepTwo"},{id:87187,enchant:4433,gems:[0],reforging:140,upgradeStep:"UpgradeStepTwo",tinker:4898},{id:86981,gems:[76700,76643,76700],reforging:140,upgradeStep:"UpgradeStepTwo"},{id:86989,enchant:4825,gems:[76668,76643],reforging:145,upgradeStep:"UpgradeStepTwo"},{id:86969,enchant:4429,gems:[76700],reforging:138,upgradeStep:"UpgradeStepTwo"},{id:86949,reforging:145,upgradeStep:"UpgradeStepTwo"},{id:90511,reforging:119,upgradeStep:"UpgradeStepTwo"},{id:79331,upgradeStep:"UpgradeStepTwo"},{id:87065,upgradeStep:"UpgradeStepTwo"},{id:87164,enchant:4442,gems:[89882,76634],reforging:147,upgradeStep:"UpgradeStepTwo"},{id:86960,enchant:4434,reforging:145,upgradeStep:"UpgradeStepTwo"}]},z=C("Pre-raid",{items:[{id:77533,gems:[76885,77547,77542]},{id:90596,reforging:145},{id:91781,enchant:4806,gems:[76672],reforging:168},{id:81575,enchant:4892,reforging:167,tinker:4897},{id:82437,enchant:4419,gems:[76672,76682],reforging:165},{id:88893,enchant:4414,gems:[0],reforging:167},{id:82438,enchant:4433,gems:[76682,0],reforging:167,tinker:4898},{id:89062,gems:[76682,76672],reforging:145},{id:91777,enchant:4825,gems:[76672,76682],reforging:168},{id:81699,enchant:4429,gems:[76672],reforging:145},{id:90859,reforging:168},{id:90591,reforging:145},{id:79331},{id:81263,reforging:138},{id:81691,enchant:4442,reforging:167},{}]}),$=C("P1 - BIS",X),_=C("P2 - BIS",Y),J=b("Incinerate",K),Q=y("Default",e.fromMap({[a.StatIntellect]:1.24,[a.StatSpellPower]:1,[a.StatHitRating]:4,[a.StatCritRating]:.6,[a.StatHasteRating]:.66,[a.StatMasteryRating]:.63})),Z={name:"Default P1",data:t.create({talentsString:"231221",glyphs:s.create({major1:o.GlyphOfSoulstone,major2:o.GlyphOfSiphonLife,major3:o.GlyphOfImpSwarm,minor3:l.GlyphOfUnendingBreath})})},ee=n.create({classOptions:{summon:p.Felguard,detonateSeed:!1}}),ae=r.create({flaskId:76085,foodId:74650,potId:76093,prepotId:76093}),te=i.create({...d(),arcaneBrilliance:!0,blessingOfKings:!0,leaderOfThePack:!0,blessingOfMight:!0,bloodlust:!0,moonkinAura:!0,unholyAura:!0}),se=c.create({}),le=m.create({curseOfElements:!0,weakenedArmor:!0,physicalVulnerability:!0}),oe={race:g.RaceTroll,distanceFromTarget:25,profession1:I.Engineering,profession2:I.Tailoring,channelClipDelay:150},ne=F("Default P1",{talents:Z,rotation:J}),pe={unitStat:u.fromPseudoStat(h.PseudoStatSpellHastePercent),presets:new Map([...W.presets,["16-tick - Immo Aura",3.35918],["8-tick - Immolate:Inferno",7.12373],["17-tick - Immo Aura",9.95053],["18-tick - Immo Aura",16.61809],["9-tick - Immolate:Inferno",21.43291],["19-tick - Immo Aura",23.38064],["20-tick - Immo Aura",29.95453],["10-tick - Immolate:Inferno",35.71591],["21-tick - Immo Aura",36.70542],["22-tick - Immo Aura",43.3692],["11-tick - Immolate:Inferno",50.03752],["23-tick - Immo Aura",50.03753],["24-tick - Immo Aura",56.6171],["25-tick - Immo Aura",63.26533],["12-tick - Immolate:Inferno",64.24857],["26-tick - Immo Aura",69.92356],["27-tick - Immo Aura",76.52254],["13-tick - Immolate:Inferno",78.6246],["28-tick - Immo Aura",83.31809],["29-tick - Immo Aura",89.93356],["14-tick - Immolate:Inferno",92.86404],["30-tick - Immo Aura",96.65687],["31-tick - Immo Aura",103.45884],["15-tick - Immolate:Inferno",107.11082],["32-tick - Immo Aura",109.86363]])},re=W.presets,ie=re.get("8-tick - Shadowflame"),de=re.get("9-tick - Shadowflame"),ce=[re.get("8-tick - Shadowflame"),re.get("6-tick - Doom"),re.get("9-tick - Shadowflame"),re.get("10-tick - Shadowflame"),re.get("7-tick - Doom"),re.get("11-tick - Shadowflame"),re.get("8-tick - Doom"),re.get("12-tick - Shadowflame"),re.get("9-tick - Doom")],me=L(S.SpecDemonologyWarlock,{cssClass:"demonology-warlock-sim-ui",cssScheme:O.getCssClass(O.Warlock),knownIssues:[],epStats:[a.StatIntellect,a.StatSpellPower,a.StatHitRating,a.StatCritRating,a.StatHasteRating,a.StatMasteryRating],epReferenceStat:a.StatSpellPower,displayStats:u.createDisplayStatArray([a.StatHealth,a.StatMana,a.StatStamina,a.StatIntellect,a.StatSpellPower,a.StatMasteryRating,a.StatExpertiseRating,a.StatMP5],[h.PseudoStatSpellHitPercent,h.PseudoStatSpellCritPercent,h.PseudoStatSpellHastePercent]),gemStats:k,defaults:{gear:_.gear,epWeights:Q.epWeights,statCaps:(new e).withPseudoStat(h.PseudoStatSpellHitPercent,15),softCapBreakpoints:[R.fromPseudoStat(h.PseudoStatSpellHastePercent,{breakpoints:ce,capType:A.TypeThreshold,postCapEPs:[(Q.epWeights.getStat(a.StatCritRating)-.01)*P]})],consumables:ae,talents:Z.data,specOptions:ee,raidBuffs:te,partyBuffs:v.create({}),individualBuffs:se,debuffs:le,other:oe},playerIconInputs:[j()],includeBuffDebuffInputs:[x,E,N],excludeBuffDebuffInputs:[],petConsumeInputs:[],otherInputs:{inputs:[H,U,B,M]},itemSwapSlots:[f.ItemSlotTrinket1,f.ItemSlotTrinket2,f.ItemSlotMainHand,f.ItemSlotOffHand],encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[Q],talents:[Z],rotations:[J],gear:[z,$,_],itemSwaps:[],builds:[ne]},autoRotation:e=>J.rotation.rotation,raidSimPresets:[{spec:S.SpecDemonologyWarlock,talents:Z.data,specOptions:ee,consumables:ae,defaultFactionRaces:{[T.Unknown]:g.RaceUnknown,[T.Alliance]:g.RaceHuman,[T.Horde]:g.RaceOrc},defaultGear:{[T.Unknown]:{},[T.Alliance]:{1:z.gear,2:$.gear},[T.Horde]:{1:z.gear,2:$.gear}},otherDefaults:oe}]});class Ie extends q{constructor(e,t){super(e,t,me);const s=[{unitStat:u.fromPseudoStat(h.PseudoStatSpellHastePercent),presets:pe.presets}];this.reforger=new V(this,{statSelectionPresets:s,enableBreakpointLimits:!0,updateSoftCaps:e=>{const a=t.getGear().getAverageItemLevel(!1),s=t.getRaid()?.getBuffs(),l=!!s?.bloodlust,o=t.getRace()===g.RaceTroll,n=(e,a)=>Number(G(100*((e/100+1)/a-1),{maximumFractionDigits:5}));return this.individualConfig.defaults.softCapBreakpoints.forEach(t=>{const s=e.find(e=>e.unitStat.equals(t.unitStat));if(t.unitStat.equalsPseudoStat(h.PseudoStatSpellHastePercent)&&s){const e=new Set([...t.breakpoints]),p=a=>[...e.values()].find(e=>e.toFixed(2)===a.toFixed(2));t.breakpoints.forEach(a=>{if(l){const t=n(a,1.3);if(t>0&&(p(t)||e.add(t),o)){const a=n(t,1.2);a>0&&!p(a)&&e.add(a)}}}),s.breakpoints=[...e].filter(e=>e>=ie&&e<=(a>=525?de:26)).sort((e,a)=>e-a)}}),e},additionalSoftCapTooltipInformation:{[a.StatHasteRating]:()=>{const e=t.getRaid()?.getBuffs(),a=!!e?.bloodlust,s=t.getRace()===g.RaceTroll;return w(D,null,(a||s)&&w(D,null,w("p",{className:"mb-0"},"Additional Doom/Shadowflame breakpoints have been created using the following cooldowns:"),w("ul",{className:"mb-0"},a&&w("li",null,"Bloodlust"),s&&w("li",null,"Berserking"))))}}})}}export{Ie as D};
